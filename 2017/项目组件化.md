### é¡¹ç›®ç»„ä»¶åŒ–



>ç»„ä»¶æ˜¯æŒ‡æ¯”è¾ƒå°çš„åŠŸèƒ½å—ï¼Œè¿™äº›ç»„ä»¶ä¸éœ€è¦å¤šå°‘ç»„ä»¶é—´é€šä¿¡ï¼Œæ²¡ä»€ä¹ˆä¾èµ–ï¼Œä¹Ÿå°±ä¸éœ€è¦åšä»€ä¹ˆå…¶ä»–å¤„ç†ï¼Œé¢å‘å¯¹è±¡å°±èƒ½æå®šã€‚å¤šä¸ªé¡¹ç›®ä½¿ç”¨åŒä¸€ä¸ªç»„ä»¶æ˜æ˜¾å¯ä»¥è®©ä»£ç å¤ç”¨ï¼Œå‡ºäº†é—®é¢˜ä¹Ÿå¥½é›†ä¸­çš„ç»´æŠ¤èµ·æ¥ï¼Œç»„ä»¶åŒ–å’Œæ¨¡å—åŒ–æœ‰æ‰€ä¸åŒï¼Œç»„ä»¶åŒ–çš„è¯‰æ±‚æ˜¯**å¥½ç”¨**ï¼Œè€Œæ¨¡å—åŒ–è¯‰æ±‚çš„æ˜¯**è§£è€¦**ã€‚è¿™é‡Œå°†ä½¿ç”¨**CocoaPods**æ¥å¯¹ä»£ç ç»„ä»¶åŒ–ç®¡ç†ã€‚åŒæ—¶å¯¹ **å…¬å…±UI**ã€**åº•å±‚çš„VC**ã€**åº•å±‚ç½‘ç»œè¯·æ±‚**ã€**æ•°æ®ç¼“å­˜**ã€**å·¥å…·æ–¹æ³•**ã€**jså’Œnativeäº¤äº’**  **æ¨¡å—é—´çš„è·¯ç”±ç±»** åŠ **ç‹¬ç«‹çš„ä¸šåŠ¡æ¨¡å—** ç­‰è¿›è¡Œç»„ä»¶åŒ–ã€‚

![é¡¹ç›®ç»„ä»¶åŒ–](http://7xqhx8.com1.z0.glb.clouddn.com/%E9%A1%B9%E7%9B%AE%E7%BB%84%E4%BB%B6%E5%8C%96.jpeg) 



### ä¸€ã€é™æ€åº“ä¸åŠ¨æ€åº“

> åº“(Library)è¯´ç™½äº†å°±æ˜¯ä¸€æ®µç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ä»£ç ï¼ŒåŠ ä¸Šå¤´æ–‡ä»¶å°±å¯ä»¥ä¾›åˆ«äººä½¿ç”¨ã€‚ä»€ä¹ˆæ—¶å€™æˆ‘ä»¬ä¼šç”¨åˆ°åº“å‘¢ï¼Ÿä¸€ç§æƒ…å†µæ˜¯æŸäº›ä»£ç éœ€è¦ç»™åˆ«äººä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›åˆ«äººçœ‹åˆ°æºç ï¼Œå°±éœ€è¦ä»¥åº“çš„å½¢å¼è¿›è¡Œå°è£…ï¼Œåªæš´éœ²å‡ºå¤´æ–‡ä»¶ã€‚å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¯¹äºæŸäº›ä¸ä¼šè¿›è¡Œå¤§çš„æ”¹åŠ¨çš„ä»£ç ï¼Œæˆ‘ä»¬æƒ³å‡å°‘ç¼–è¯‘çš„æ—¶é—´ï¼Œå°±å¯ä»¥æŠŠå®ƒæ‰“åŒ…æˆåº“ï¼Œå› ä¸ºåº“æ˜¯å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶äº†ï¼Œç¼–è¯‘çš„æ—¶å€™åªéœ€è¦ Link ä¸€ä¸‹ï¼Œä¸ä¼šæµªè´¹ç¼–è¯‘æ—¶é—´ã€‚

ä¸Šé¢æåˆ°åº“åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦ Linkï¼ŒLink çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œé™æ€å’ŒåŠ¨æ€ï¼Œäºæ˜¯ä¾¿äº§ç”Ÿäº†é™æ€åº“å’ŒåŠ¨æ€åº“ã€‚

#### **1ã€é™æ€åº“ï¼š**

é™æ€åº“å³é™æ€é“¾æ¥åº“ï¼ˆWindows ä¸‹çš„ .libï¼ŒLinux å’Œ Mac ä¸‹çš„ .aåŠä¸€äº›ç‰¹æ®Šçš„.frameworkï¼‰ã€‚ä¹‹æ‰€ä»¥å«åšé™æ€ï¼Œæ˜¯å› ä¸ºé™æ€åº“åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè¢«ç›´æ¥æ‹·è´ä¸€ä»½ï¼Œå¤åˆ¶åˆ°ç›®æ ‡ç¨‹åºé‡Œï¼Œè¿™æ®µä»£ç åœ¨ç›®æ ‡ç¨‹åºé‡Œå°±ä¸ä¼šå†æ”¹å˜äº†ã€‚

é™æ€åº“çš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œç¼–è¯‘å®Œæˆä¹‹åï¼Œåº“æ–‡ä»¶å®é™…ä¸Šå°±æ²¡æœ‰ä½œç”¨äº†ã€‚ç›®æ ‡ç¨‹åºæ²¡æœ‰å¤–éƒ¨ä¾èµ–ï¼Œç›´æ¥å°±å¯ä»¥è¿è¡Œã€‚å½“ç„¶å…¶ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯ä¼šä½¿ç”¨ç›®æ ‡ç¨‹åºçš„ä½“ç§¯å¢å¤§ã€‚å› ä¸ºswiftåœ¨iOSè®¾å¤‡ä¸Šè¿è¡Œéœ€è¦ä¸€äº›è¿è¡Œåº“çš„æ”¯æŒï¼Œæ‰€ä»¥é™æ€åº“ä¸æ”¯æŒswiftç¼–ç ã€‚

#### **2ã€åŠ¨æ€åº“ï¼š**

åŠ¨æ€åº“å³åŠ¨æ€é“¾æ¥åº“ï¼ˆWindows ä¸‹çš„ .dllï¼ŒLinux ä¸‹çš„ .soï¼ŒMac ä¸‹çš„ .dylib/.tbd/.frameworkï¼‰ã€‚ä¸é™æ€åº“ç›¸åï¼ŒåŠ¨æ€åº“åœ¨ç¼–è¯‘æ—¶å¹¶ä¸ä¼šè¢«æ‹·è´åˆ°ç›®æ ‡ç¨‹åºä¸­ï¼Œç›®æ ‡ç¨‹åºä¸­åªä¼šå­˜å‚¨æŒ‡å‘åŠ¨æ€åº“çš„å¼•ç”¨ã€‚ç­‰åˆ°ç¨‹åºè¿è¡Œæ—¶ï¼ŒåŠ¨æ€åº“æ‰ä¼šè¢«çœŸæ­£åŠ è½½è¿›æ¥ã€‚

åŠ¨æ€åº“çš„ä¼˜ç‚¹æ˜¯ï¼Œä¸éœ€è¦æ‹·è´åˆ°ç›®æ ‡ç¨‹åºä¸­ï¼Œä¸ä¼šå½±å“ç›®æ ‡ç¨‹åºçš„ä½“ç§¯ï¼Œè€Œä¸”åŒä¸€ä»½åº“å¯ä»¥è¢«å¤šä¸ªç¨‹åºä½¿ç”¨ï¼ˆå› ä¸ºè¿™ä¸ªåŸå› ï¼ŒåŠ¨æ€åº“ä¹Ÿè¢«ç§°ä½œå…±äº«åº“ï¼‰ã€‚åŒæ—¶ï¼Œç¼–è¯‘æ—¶æ‰è½½å…¥çš„ç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥è®©æˆ‘ä»¬éšæ—¶å¯¹åº“è¿›è¡Œæ›¿æ¢ï¼Œè€Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ä»£ç ã€‚åŠ¨æ€åº“å¸¦æ¥çš„é—®é¢˜ä¸»è¦æ˜¯ï¼ŒåŠ¨æ€è½½å…¥ä¼šå¸¦æ¥ä¸€éƒ¨åˆ†æ€§èƒ½æŸå¤±ï¼Œä½¿ç”¨åŠ¨æ€åº“ä¹Ÿä¼šä½¿å¾—ç¨‹åºä¾èµ–äºå¤–éƒ¨ç¯å¢ƒã€‚å¦‚æœç¯å¢ƒç¼ºå°‘åŠ¨æ€åº“æˆ–è€…åº“çš„ç‰ˆæœ¬ä¸æ­£ç¡®ï¼Œå°±ä¼šå¯¼è‡´ç¨‹åºæ— æ³•è¿è¡Œï¼ˆLinux ä¸‹å–œé—»ä¹è§çš„ lib not found é”™è¯¯ï¼‰ã€‚

#### **3ã€åŒºåˆ†.frameworkæ˜¯åŠ¨æ€åº“è¿˜æ˜¯é™æ€åº“ï¼Ÿ**

```shell
$ file Crashlytics
Crashlytics: Mach-O universal binary with 5 architectures
Crashlytics (for architecture armv7):   current ar archive random library
Crashlytics (for architecture armv7s):  current ar archive random library
Crashlytics (for architecture i386):    current ar archive random library
Crashlytics (for architecture x86_64):  current ar archive random library
Crashlytics (for architecture arm64):   current ar archive random library
# ar archive è¡¨ç¤ºè¿™ä¸ª framework æ˜¯é™æ€åº“

$ file iTunesLibrary 
iTunesLibrary: Mach-O universal binary with 2 architectures
iTunesLibrary (for architecture i386): Mach-O dynamically linked shared library i386
iTunesLibrary (for architecture x86_64):   Mach-O 64-bit dynamically linked shared library x86_64
# dynamically linked è¡¨ç¤ºè¿™ä¸ª framework æ˜¯åŠ¨æ€åº“
```



### äºŒã€ä½¿ç”¨CocoaPodså¯¹ä»£ç ç»„ä»¶åŒ–ç®¡ç†

[CocoaPods](https://github.com/CocoaPods/CocoaPods)æ˜¯ä¸€ä¸ªç”¨æ¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†ç¬¬ä¸‰æ–¹ä¾èµ–åº“çš„å·¥å…·ï¼Œæ˜¯iOSå¹³å°æœ€å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹ç±»åº“ç®¡ç†å·¥å…·ï¼Œç»å¤§éƒ¨åˆ†æœ‰åçš„å¼€æºç±»åº“éƒ½æ”¯æŒCocoaPodsã€‚å®ƒå¯ä»¥è§£å†³åº“ä¸åº“ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä¸‹è½½åº“çš„æºä»£ç ï¼ŒåŒæ—¶é€šè¿‡åˆ›å»ºä¸€ä¸ªXcodeçš„workspaceæ¥å°†è¿™äº›ç¬¬ä¸‰æ–¹åº“å’Œæˆ‘ä»¬çš„å·¥ç¨‹è¿æ¥èµ·æ¥ï¼Œä¾›æˆ‘ä»¬å¼€å‘ä½¿ç”¨ã€‚

#### **1ã€å®‰è£…CocoaPodsï¼š**

```shell
$ sudo gem install cocoapods
```

#### **2ã€åœ¨é¡¹ç›®ä¸­ä½¿ç”¨CocoaPodsæ¥æ·»åŠ ç¬¬ä¸‰æ–¹åº“ï¼š**

```shell
$ cd /Users/denglibing/Desktop/CocoaPodsDemo  #å®šä½åˆ° xxx.xcodeproj è¿™ä¸ªè·¯å¾„
$ ls
CocoaPodsDemo		CocoaPodsDemo.xcodeproj
$ pod init   #åœ¨å½“å‰è·¯å¾„æ–°å»º Podfile æ–‡ä»¶ï¼Œä½¿ç”¨æ–‡æœ¬ç¼–è¾‘æ‰“å¼€ Podfile æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†é¡¹ç›®éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“åˆ—è¡¨
```

ä»¥æ·»åŠ  `AFNetworking` ä¸ºä¾‹å­ï¼Œ å¯¹ [Podfile](https://guides.cocoapods.org/syntax/podfile.html) è¿›è¡Œç¼–è¾‘ï¼š

```ruby
platform :ios, '8.0' 	#æœ€ä½æ”¯æŒçš„å¹³å°ç‰ˆæœ¬å·
use_frameworks!			#cocoapodsä¼šç”Ÿæˆå¯¹åº”çš„frameworksæ–‡ä»¶ï¼ˆåŒ…å«äº†å¤´æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œèµ„æºæ–‡ä»¶ç­‰ç­‰ï¼‰
inhibit_all_warnings!	#èƒ½å¤Ÿæœ‰æ•ˆçš„æŠ‘åˆ¶CocoaPodså¼•å…¥çš„ç¬¬ä¸‰æ–¹ä»£ç åº“äº§ç”Ÿçš„warning

target 'CocoaPodsDemo' do
  pod 'AFNetworking', '~> 3.0' #ä½¿ç”¨AFNetworkingçš„ 3.0-4.0ç‰ˆæœ¬ï¼Œä¸åŒ…å«4.0
end
```

ç„¶åä½¿ç”¨podå‘½ä»¤æ·»åŠ ï¼š

```shell
$ cd /Users/denglibing/Desktop/CocoaPodsDemo  #å®šä½åˆ° xxx.xcodeproj è¿™ä¸ªè·¯å¾„
$ pod install
```

å¯ä»¥çœ‹åˆ°ï¼Œå·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹å¤šäº†ä¸‰ä¸ªä¸œè¥¿ï¼šCocoaPodsDemo.xcworkspaceã€Podfile.lockæ–‡ä»¶å’ŒPodsç›®å½•ã€‚å®‰è£…å®Œï¼Œè¿™äº›åº“éƒ½æ”¾åœ¨ä¸€ä¸ªPodsçš„å·¥ç¨‹ä¸­ï¼Œç„¶åä¼šç”¨Xcodeçš„workspaceæ¥ç®¡ç†è¿™ä¸ªå·¥ç¨‹å’Œä½ è‡ªå·±çš„å·¥ç¨‹ã€‚ä»¥åå°±æ‰“å¼€CocoaPodsDemo.xcworkspaceå°±è¡Œäº†ã€‚



### ä¸‰ã€åœ¨CocoaPodsä¸Šä¼ å¯ä»¥è¢«å…¶ä»–äººä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“

è¯¦ç»†è§ï¼š [CocoaPodsä¸Šä¼ å…¬ç”¨é¡¹ç›®](http://blog.csdn.net/u012390519/article/details/48497343) 



### å››ã€ä½¿ç”¨CocoaPodsåˆ›å»ºç§æœ‰çš„Podï¼š

#### 1ã€é¦–å…ˆäº†è§£ä¸€ä¸‹é¡¹ç›®ä¸­ä½¿ç”¨Podçš„å‡ ç§æ–¹å¼ï¼š(Podfile)

**1.1ã€ä½¿ç”¨Cocoapodså®˜æ–¹å®¡æ ¸è¿‡çš„Podï¼Œè¿™äº›å¯ä»¥ä½¿ç”¨ `pod search podName ` æ¥æŸ¥çœ‹ï¼š**

```ruby
# source 'https://github.com/CocoaPods/Specs.git' è¿™ä¸ªä»“åº“åŒ…å«äº†å®˜æ–¹å®¡æ ¸è¿‡çš„Podçš„ä¿¡æ¯ï¼Œé»˜è®¤å¯ä»¥ä¸å†™
pod 'AFNetworking'
```

**1.2ã€ä½¿ç”¨æœ¬åœ°è·¯å¾„ä»£ç  ï¼ˆä¸éœ€è¦ç»è¿‡ç±»ä¼¼Cocoapodså®¡æ ¸æµç¨‹å³å¯ä½¿ç”¨ï¼Œæœ¬åœ°ä»£ç ä¸€æ”¹ï¼Œpod updateå³å¯è·å–æœ€æ–°ä»£ç ï¼Œä½†æ˜¯ä¸€ä¸å°å¿ƒä»£ç åœ°å€ç§»åŠ¨æˆ–è€…åˆ é™¤æ—¶ï¼Œä¼šæœ‰é—®é¢˜ï¼Œä¸€èˆ¬ç”¨äºæµ‹è¯•ä½¿ç”¨ï¼‰**

```ruby
pod 'AFNetworking', :path => '~/Documents/AFNetworking'
```

**1.3ã€ä½¿ç”¨æºç åœ°å€çš„ä»£ç ï¼ˆæ¯æ¬¡pod updateå³å¯è·å–ç»™å®šåœ°å€çš„æœ€æ–°ä»£ç ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æŒ‡å®šçš„tagã€branchã€commitï¼Œæºç æ¯æ¬¡pushåˆ°gitåœ°å€åï¼Œå…¶ä»–é¡¹ç›®å³å¯ä½¿ç”¨ï¼Œæ— å®¡æ ¸æµç¨‹ï¼Œè¿™ç§æ¨¡å¼å±äºæ¯”è¾ƒçµæ´»çš„æ–¹å¼ï¼‰**

```ruby
pod 'AFNetworking', :git => 'https://github.com/gowalla/AFNetworking.git', :tag => '3.0.0'
pod 'AFNetworking', :git => 'https://github.com/gowalla/AFNetworking.git', :branch => 'dev'
pod 'AFNetworking', :git => 'https://github.com/gowalla/AFNetworking.git', :commit => '082f8319af'
```

**1.4ã€ä½¿ç”¨podspecæ–‡ä»¶æ¥æ‹‰å–ä»£ç ï¼š**

```ruby
# è¿œç¨‹podspecåœ°å€
pod 'HDFrameworkBMKSDK', :podspec => 'https://raw.githubusercontent.com/erduoniba/HDFrameworkBMKSDK/master/HDFrameworkBMKSDK.podspec'
# æœ¬åœ°podspecåœ°å€
pod 'HDFrameworkBMKSDK', :podspec => '/Users/denglibing/project/harryProject/HDFrameworkBMKSDK/HDFrameworkBMKSDK.podspec'
```

[podspec](https://guides.cocoapods.org/syntax/podspec.html) è¯´ä¸€ä¸ªç»„å»ºåŒ–Podçš„è¯´æ˜æ–‡æ¡£ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```ruby
Pod::Spec.new do |s|
    s.name         = "HDFrameworkBMKSDK"
    s.module_name  = "HDFrameworkBMKSDK"
    s.version      = "0.0.1"
    s.summary      = "HDFrameworkBMKSDK"
    s.description  = "è¿™ä¸ªæ˜¯ç”¨åˆ°ç™¾åº¦åœ°å›¾sdkçš„ä¸€ä¸ªpodå·¥ç¨‹,ç™¾åº¦åœ°å›¾åœ¨è¯¥podå·¥ç¨‹ä¸­"
    s.homepage     = "https://github.com/erduoniba"
    s.author       = { "denglibing" => "13049862397@163.com" }
    s.platform     = :ios, "8.0"
    s.requires_arc = true
    s.license      = { :type => 'MIT'}
    s.source       =  { :git => 'https://github.com/erduoniba/HDFrameworkBMKSDK.git', :tag => "#{s.version}"}

    s.subspec 'HDFrameworkBMKSDK' do |hdBMK|
        hdBMK.source_files = 'HDFrameworkBMKSDK/*.{h,m,mm}'
    end

    s.pod_target_xcconfig = {
#        'FRAMEWORK_SEARCH_PATHS'   => '$(inherited) $(PODS_ROOT)/BaiduMapKit/BaiduMapKit',
#        'LIBRARY_SEARCH_PATHS'     => '$(inherited) $(PODS_ROOT)/BaiduMapKit/BaiduMapKit/thirdlibs',
#        'OTHER_LDFLAGS'            => '$(inherited) "-undefined dynamic_lookup" -ObjC',
        'ENABLE_BITCODE'           => 'NO'
    }

    s.subspec 'BaiduMapKit' do |map|
        map.vendored_frameworks = 'HDFrameworkBMKSDK/BaiduMapKit/*.framework'
        map.vendored_libraries = 'HDFrameworkBMKSDK/BaiduMapKit/thirdlibs/*.a'
        map.framework = 'CoreLocation', 'QuartzCore', 'OpenGLES', 'SystemConfiguration', 'CoreGraphics', 'Security', 'CoreTelephony'
        map.libraries = 'sqlite3.0', 'stdc++.6.0.9'
    end
end
```

**1.5ã€ä½¿ç”¨è‡ªå·±çš„ç§æœ‰ä»“åº“æ¥æ›¿æ¢cocoapodsçš„ä»“åº“ï¼Œè¿™æ ·åŒæ ·çš„ä¸éœ€è¦å®¡æ ¸æµç¨‹ï¼Œè‡ªå·±ç®¡ç†æ‰€æœ‰çš„ podsepcæ–‡ä»¶ï¼Œéœ€è¦åŠ ä¸Štagæ¥æ‹‰å–æŒ‡å®šçš„ä»£ç **

```ruby
source 'https://github.com/CocoaPods/Specs.git'					# å®˜æ–¹åº“åœ°å€
source 'http://172.16.10.165/midea-common/midea-specs.git'     # ç§æœ‰åº“åœ°å€

platform :ios,'8.0'
use_frameworks!
inhibit_all_warnings!
target 'HDDemo' do
  	pod 'HDFrameworkBMKSDK'	# ç§æœ‰åº“åœ°å€é‡Œçš„HDFrameworkBMKSDKé¡¹ç›®ä¿¡æ¯
end
```

**1.6ã€å¤šä¸ªtargetä½¿ç”¨podä¸€äº›æƒ…å†µ**

[http://guides.cocoapods.org/using/the-podfile.html](http://guides.cocoapods.org/using/the-podfile.html)

1ã€ä½¿ç”¨æŠ½è±¡çš„targetï¼Œç„¶åå¤šä¸ªtargetç»§æ‰¿è¿™ä¸ªæŠ½è±¡çš„targetå°±å¥½ï¼š

```ruby
# Note: There are no targets called "Shows" in any of this workspace's Xcode projects
abstract_target 'Shows' do
  pod 'ShowsKit'

  # The target ShowsiOS has its own copy of ShowsKit (inherited) + ShowWebAuth (added here)
  target 'ShowsiOS' do
    pod 'ShowWebAuth'
  end

  # The target ShowsTV has its own copy of ShowsKit (inherited) + ShowTVAuth (added here)
  target 'ShowsTV' do
    pod 'ShowTVAuth'
  end

  # Our tests target has its own copy of
  # our testing frameworks, and has access
  # to ShowsKit as well because it is
  # a child of the abstract target 'Shows'
  target 'ShowsTests' do
    inherit! :search_paths
    pod 'Specta'
    pod 'Expecta'
  end
end
```

2ã€ä½¿ç”¨targetç»§æ‰¿targetæ¥å®ç°ï¼š

```ruby
target 'ShowsApp' do
  pod 'ShowsKit'

  # Has its own copy of ShowsKit + ShowTVAuth
  target 'ShowsTV' do
    pod 'ShowTVAuth'
  end

  # Has its own copy of Specta + Expecta
  # and has access to ShowsKit via the app
  # that the test target is bundled into
  target 'ShowsTests' do
    inherit! :search_paths
    pod 'Specta'
    pod 'Expecta'
  end
end
```

3ã€å…¬ç”¨çš„podï¼Œå¤šä¸ªtargetç»§æ‰¿å®ç°ï¼š

```ruby
pod 'ShowsKit'
pod 'Fabric'

# Has its own copy of ShowsKit + Fabric + ShowWebAuth
target 'ShowsiOS' do
  pod 'ShowWebAuth'
end

# Has its own copy of ShowsKit + Fabric + ShowTVAuth
target 'ShowsTV' do
  pod 'ShowTVAuth'
end
```

4ã€å®šä¹‰ä¸€ä¸ªcommonï¼Œç„¶åå®ç°ï¼š

```ruby
def common
    pod 'ShowsKit'
end

target 'commonDemo' do
    common
end

target 'commonTestDemo' do
    common
end
```





#### 2ã€åˆ›å»ºç§æœ‰ç»„å»ºåº“

> å…ˆæƒ³æƒ³Cocoapodsæ˜¯å¦‚ä½•åªé€šè¿‡ `pod 'AFNetworking' ` å°±èƒ½æ‹‰å–åˆ° `AFNetworking` ä»£ç çš„ï¼Ÿè¿™ä¸ªæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨æƒ³Cocoapodsæäº¤ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠå¯¹åº”çš„ `podsepc` ä¸Šä¼ åˆ° `https://github.com/CocoaPods/Specs.git` è¿™ä¸ªåœ°å€ï¼Œå½“ä½¿ç”¨ `pod install ` æ—¶ä¼šåœ¨è¿™ä¸ªåœ°å€å»æ‰¾åˆ°å¯¹åº”çš„ `podsepc` ä¿¡æ¯ç„¶åä¸‹è½½ã€‚åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±ç§æœ‰åº“åœ°å€ï¼ŒæŠŠç§æœ‰é¡¹ç›®çš„  `podsepc` æ”¾åœ¨è¿™ä¸ªç§æœ‰åº“åœ°å€ä¸­ï¼Œè¿™æ ·æ—¢å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨CocoaPodsæ¥ç®¡ç†æˆ‘ä»¬çš„ä»£ç ï¼Œåˆä¿è¯äº†ä»£ç çš„éšç§æ€§ã€‚

**2.1ã€åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªç§æœ‰çš„`Spec Repo`ã€‚è¿™ä¸ªä»“åº“ä½ å¯ä»¥åˆ›å»ºç§æœ‰çš„ä¹Ÿå¯ä»¥åˆ›å»ºå…¬å¼€çš„ï¼Œä¸è¿‡æ—¢ç„¶ç§æœ‰çš„`Spec Repo`ï¼Œè¿˜æ˜¯åˆ›å»ºç§æœ‰çš„ä»“åº“å§ã€‚åˆ›å»ºå®Œæˆä¹‹ååœ¨`Terminal`ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤**

```shell
# pod repo add [Private Repo Name] [GitHub HTTPS clone URL]
$ pod repo add midea-specs http://172.16.10.165/midea-common/midea-specs.git
```

æ­¤æ—¶å¦‚æœæˆåŠŸçš„è¯è¿›å…¥åˆ°`~/.cocoapods/repos`ç›®å½•ä¸‹å°±å¯ä»¥çœ‹åˆ° `midea-specs` è¿™ä¸ªç›®å½•äº†ã€‚è‡³æ­¤ç¬¬ä¸€æ­¥åˆ›å»ºç§æœ‰`Spec Repo`å®Œæˆã€‚

**2.2ã€åˆ›å»º`Pod`çš„æ‰€éœ€è¦çš„é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ï¼Œå¹¶ä¸”æœ‰å¯è®¿é—®çš„é¡¹ç›®ç‰ˆæœ¬æ§åˆ¶åœ°å€ã€‚è¯¦ç»†è§ [CocoaPodsä¸Šä¼ å…¬ç”¨é¡¹ç›®](http://blog.csdn.net/u012390519/article/details/48497343)** 

**2.3ã€å‘ç§æœ‰ä»“åº“ `midea-specs` æäº¤ç»„ä»¶çš„ `podspec`**

```shell
$ cd path/midea-common-ui.podspec
$ pod repo push midea-specs midea-common-ui.podspec  #å‰é¢æ˜¯æœ¬åœ°Repoåå­— åé¢æ˜¯podspecåå­—
# --allow-warnings å¿½ç•¥é¡¹ç›®è­¦å‘Š

# æˆåŠŸä¹‹å
$ cd /Users/denglibing/.cocoapods/repos/midea-specs 
$ tree
.
â””â”€â”€ midea-common-ui
    â””â”€â”€ 0.1.0
        â””â”€â”€ midea-common-ui.podspec
# ç§æœ‰åº“è‡ªåŠ¨ç”Ÿæˆäº†æœ€æ–°çš„ä»£ç 
```

**2.4ã€åœ¨æ–°é¡¹ç›®ä¸­çš„ `Podfile` ä¸­ä½¿ç”¨åˆšåˆšåˆ¶ä½œå¥½çš„ `Pod`**

```ruby
source 'https://github.com/CocoaPods/Specs.git'					# å®˜æ–¹åº“åœ°å€ï¼Œåœ¨æ·»åŠ ç§æœ‰åº“çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¹Ÿéœ€è¦æŠŠå®˜æ–¹åº“åœ°å€ä¹ŸåŠ ä¸Š
source 'http://172.16.10.165/midea-common/midea-specs.git'     # ç§æœ‰åº“åœ°å€

platform :ios,'8.0'
use_frameworks!
inhibit_all_warnings!
target 'HDDemo' do
  	pod 'midea-common-ui'	# ç§æœ‰åº“åœ°å€é‡Œçš„midea-common-uié¡¹ç›®
end
```

**2.5ã€æ›´æ–°åŠç»´æŠ¤ç§æœ‰åº“**

```shell
$ cd anyPath
$ pod repo remove midea-specs #åˆ é™¤æœ¬åœ°çš„ç§æœ‰åº“
$ pod repo add midea-specs http://172.16.10.165/midea-common/midea-specs.git #é‡æ–°æ·»åŠ ç§æœ‰åº“åœ°å€
```

**2.6ã€å…¶ä»–å¼€å‘è€…å…±åŒç»´æŠ¤ç§æœ‰åº“**

```shell
$ cd anyPath
$ pod repo add midea-specs http://172.16.10.165/midea-common/midea-specs.git #æ·»åŠ ç§æœ‰åº“åœ°å€

# pod åœ¨pushçš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦åˆ‡æ¢èº«ä»½ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤
$ pod trunk register 13049862391@163.com 'erduoniba'
$ pod me
$ pod trunk register denglb3@midea.com 'denglibing'
$ pod me
```

**2.7ã€ç§æœ‰åº“ä¸­ä½¿ç”¨èµ„æºçš„æ­£ç¡®å§¿åŠ¿**

```objective-c
1ã€åœ¨frameworkä¸­ï¼Œå›¾ç‰‡èµ„æºä¸èƒ½ä½¿ç”¨xcassetsè¿›è¡Œç®¡ç†ï¼è¿™æ˜¯å› ä¸ºframeworkä¸­çš„xcassetsæ–‡ä»¶æ‰“åŒ…ä¹‹åä¼šå˜æˆ.ceræ–‡ä»¶ï¼Œå¹¶ä¸æš´éœ²å‡ºå›¾ç‰‡èµ„æºï¼Œæ‰€ä»¥frameworkä¸èƒ½é€šè¿‡xcassetsæ¥ç®¡ç†å›¾ç‰‡èµ„æºã€‚
è§£å†³åŠæ³•æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªèµ„æºæ–‡ä»¶å¤¹æŠŠå…¨éƒ¨å›¾ç‰‡æ–‡ä»¶éƒ½è£…è¿›å»è¿›è¡Œç®¡ç†ã€‚å³bundleç®¡ç†
  
2ã€è®¿é—®frameworkçš„bundleèµ„æº:
åœ¨frameworkä¸­ä½¿ç”¨ storyboard/xibåˆ›å»ºçš„é¡µé¢ï¼Œå¯ä»¥ç›´æ¥è®¿é—®frameworkä¸­å›¾ç‰‡èµ„æºï¼
ä½†æ˜¯frameworkä¸­é€šè¿‡"imageNamedï¼š"æ–¹å¼åŠ è½½çš„ç…§ç‰‡éƒ½ä¼šä¸¢å¤±ï¼ï¼ï¼è¿™æ˜¯å› ä¸ºimageNamedçš„æ–¹æ³•é»˜è®¤æ˜¯ä»mainBundleä¸­æŸ¥æ‰¾èµ„æºçš„ï¼Œè€Œframeworkä¸­çš„ç…§ç‰‡æ˜¯ä»frameworkå†…éƒ¨åŠ è½½çš„ï¼Œè¿™æ˜¯çš„bundleå¹¶ä¸æ˜¯mainBudleï¼Œè€Œæ˜¯å­˜åœ¨äºä¸»ç¨‹åºçš„docmentæ–‡ä»¶ä¸­çš„frameworkåŒ…ï¼Œå›¾ç‰‡åŠ è½½çš„è·¯å¾„å‘ç”Ÿäº†å˜åŒ–ï¼Œè‡ªç„¶æ‰¾ä¸åˆ°å›¾ç‰‡èµ„æºï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹åŠ è½½å›¾ç‰‡çš„æ–¹æ³•ï¼
//åŠ è½½frameworkä¸­bundleçš„å›¾ç‰‡
#define MSFrameworkBundleImage(frameworkName, bundleName, imageName)     [UIImage imageNamed:[NSString stringWithFormat:@"Frameworks/%@.framework/%@.bundle/%@", frameworkName, bundleName, imageName]]
æˆ–è€…ï¼š
2.1ã€æ ¹æ®bundleForClassæ‰¾åˆ°frameworkåœ°å€ï¼Œç„¶åå¾—åˆ°bundle
+ (NSBundle *)msBundleWithFrameworkClass:(Class )class bundleName:(NSString *)bundleName {
    static NSBundle *bundle;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        bundle = [NSBundle bundleWithPath:[[NSBundle bundleForClass:class] pathForResource:bundleName ofType:@"bundle"]];
    });
    return bundle;
}

2.2ã€ä»bundleä¸­è·å–å›¾ç‰‡ï¼Œâš ï¸ è¿™é‡Œæ˜¯æœ‰@2xã€@3xåŒºåˆ«çš„ï¼
+ (UIImage *)msBundle:(NSBundle *)bundle imageName:(NSString *)imageName {
    CGFloat screenScale = [UIScreen mainScreen].scale;
    NSString *path = [bundle pathForResource:imageName ofType:@"png"];
    if (screenScale > 2) {
        //@3x
        path = [bundle pathForResource:[NSString stringWithFormat:@"%@@3x", imageName] ofType:@"png"];
    }
    else if (screenScale > 1) {
        //@2x
        path = [bundle pathForResource:[NSString stringWithFormat:@"%@@2x", imageName] ofType:@"png"];
    }
    UIImage *image = [[UIImage imageWithContentsOfFile:path] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
    return image;
}
```

**2.8ã€ç§æœ‰åº“ä¸­éœ€è¦ä¾èµ–å…¶ä»–ç§æœ‰åº“**

http://huangqiangqiang.com/2017/03/08/cocoapodssi-you-ku-wen-ti-zong-jie/

```shell
ç§æœ‰åº“2éœ€è¦ä¾èµ–ç§æœ‰åº“1æ—¶ï¼Œ
1ã€åœ¨2.podsepcä¸­ 
s.dependency 'midea-common-ui/MSBaseViewCommon'
æ‰§è¡Œ pod update çš„æ—¶å€™ï¼Œä¼šæç¤º
[!] Unable to find a specification for `midea-common-ui/MSBaseViewCommon` depended upon by `midea-common-adddevice/MSAddDeviceUI`

åœ¨Podfileä¸­æ·»åŠ ç§æœ‰ä»“åº“åœ°å€å³å¯ï¼š
# å…¬æœ‰ä»“åº“
source 'https://github.com/CocoaPods/Specs.git'
# ç§æœ‰ä»“åº“
source 'http://172.16.10.165/midea-common/midea-specs.git'
  
2ã€åœ¨éªŒè¯2.podsepcæ—¶ï¼Œä¸åƒPodfileå¯ä»¥æŒ‡å®šç§æœ‰ä»“åº“çš„åœ°å€äº†ï¼Œæ‰€ä»¥åœ¨éªŒè¯åŠä¸Šä¼ çš„æ—¶å€™ï¼Œéœ€è¦å¤šåŠ ç‚¹ä¸œè¥¿ï¼š
$ pod lib lint --sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git
$ pod repo push midea-specs 2.podsepc --sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git
```

**2.9ã€ç§æœ‰åº“ä¸­éœ€è¦ä¾èµ–é™æ€åº“åšæˆçš„pod**

https://github.com/CocoaPods/CocoaPods/issues/3985

```shell
åœ¨éªŒè¯åŠæäº¤podçš„æ—¶å€™ï¼Œæ·»åŠ  --use-libraries
# éªŒè¯ï¼š
$ pod lib lint --sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git --use-libraries --no-clean --allow-warnings

# æäº¤ï¼š
$ pod repo push midea-specs midea-common-adddevice.podspec --sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git --use-libraries --allow-warnings
```

å¯¹åº”çš„è„šæœ¬ï¼š

```shell
pod lib lint \
--sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git \
--use-libraries --no-clean --allow-warnings

if [ $? -eq 0 ]; then
	echo "congratulation,pod verifys success! ğŸ’ ğŸ’ ğŸ’ ğŸ’"

	pod repo push midea-specs \
	--sources=https://github.com/CocoaPods/Specs.git,http://172.16.10.165/midea-common/midea-specs.git \
	--use-libraries --allow-warnings

	if [ $? -eq 0 ]; then
		echo "congratulation,pod push to midea-specs success! ğŸ’ ğŸ’ ğŸ’ ğŸ’"
	else
		echo "pod push to midea-specs fail!"
	fi
else
	echo "pod verifys fail!"
fi
```

å°†è¯¥è„šæœ¬å‘½åä¸º `pod_auto_push.sh` å’Œ `xxx.podspec` åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ:

```shell
cd xxx.podspec-path
./pod_auto_push.sh
```



### äº”ã€ç›¸å…³èµ„æ–™ï¼š

 [[æ¶æ„è®¾è®¡] ç»„ä»¶å’Œæ¨¡å—çš„åŒºåˆ«](http://blog.csdn.net/horkychen/article/details/45083467)

[é™æ€åº“ä¸åŠ¨æ€åº“çš„ä½¿ç”¨](https://www.gitbook.com/book/leon_lizi/-framework-/details) 

[iOS åˆ©ç”¨ framework è¿›è¡ŒåŠ¨æ€æ›´æ–°]([http://www.tuicool.com/articles/Ybq6Rf3](http://www.tuicool.com/articles/Ybq6Rf3))

[CocoaPodsä¸Šä¼ å…¬ç”¨é¡¹ç›®](http://blog.csdn.net/u012390519/article/details/48497343)

[ä½¿ç”¨Cocoapodsåˆ›å»ºç§æœ‰podspec](http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/)

[ä½¿ç”¨CocoaPodsçš„ä¸€äº›ä»“åº“è¯´æ˜](https://github.com/erduoniba/blogMD/blob/master/%E4%BD%BF%E7%94%A8CocoaPods%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BB%93%E5%BA%93%E8%AF%B4%E6%98%8E.md) 

[Private Pods](https://guides.cocoapods.org/making/private-cocoapods.html)

[Cocoapodsç³»åˆ—æ•™ç¨‹(ä¸‰)â€”â€”ç§æœ‰åº“ç®¡ç†å’Œæ¨¡å—åŒ–ç®¡ç†](http://www.pluto-y.com/cocoapod-private-pods-and-module-manager/) 



### å…­ã€ä¸€äº›é”™è¯¯

```shell
denglibingdeMacBook-Pro-4:Toshiba denglibing$ pod update --verbose --no-repo-update
Update all pods
  Preparing

Analyzing dependencies

Inspecting targets to integrate
[!] Could not automatically select an Xcode project. Specify one in your Podfile like so:
    project 'path/to/Project.xcodeproj'
    
    
# è§£å†³ï¼Œxcodeprojçš„è·¯å¾„å‡ºäº†ä¸€äº›é—®é¢˜ï¼Œéœ€è¦åœ¨Podfileæ·»åŠ  
# xcodeproj 'MideaHome.xcodeproj'
# å³å¯
```

